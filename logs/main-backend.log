üöÄ Starting Talent Connect Backend...
üîß Activating virtual environment...
üì• Installing dependencies...
üóÑÔ∏è  Seeding/initializing database with demo accounts...
2025-12-09 11:29:39,612 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:39,613 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2025-12-09 11:29:39,613 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,615 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("jobs")
2025-12-09 11:29:39,616 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,618 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("resume_uploads")
2025-12-09 11:29:39,618 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,620 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("candidate_profiles")
2025-12-09 11:29:39,621 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,623 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("match_runs")
2025-12-09 11:29:39,624 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,626 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("match_results")
2025-12-09 11:29:39,627 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,628 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("jd_uploads")
2025-12-09 11:29:39,628 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,630 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("interviews")
2025-12-09 11:29:39,630 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,632 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("document_templates")
2025-12-09 11:29:39,632 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,635 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("generated_documents")
2025-12-09 11:29:39,635 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,970 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("document_conversations")
2025-12-09 11:29:39,971 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-09 11:29:39,975 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:39,982 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:40,014 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:40,015 INFO sqlalchemy.engine.Engine [generated in 0.00031s] ('hr@talent.com',)
2025-12-09 11:29:40,019 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:40,019 INFO sqlalchemy.engine.Engine [cached since 0.004931s ago] ('manager@talent.com',)
2025-12-09 11:29:40,022 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:40,022 INFO sqlalchemy.engine.Engine [cached since 0.007457s ago] ('recruiter@talent.com',)
2025-12-09 11:29:40,024 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:40,026 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:40,028 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.name = ?
2025-12-09 11:29:40,028 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('Offer Letter - Full Time',)
2025-12-09 11:29:40,030 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.name = ?
2025-12-09 11:29:40,030 INFO sqlalchemy.engine.Engine [cached since 0.002289s ago] ('Offer Letter - Internship',)
2025-12-09 11:29:40,031 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.name = ?
2025-12-09 11:29:40,032 INFO sqlalchemy.engine.Engine [cached since 0.004042s ago] ('Experience Letter',)
2025-12-09 11:29:40,034 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.name = ?
2025-12-09 11:29:40,035 INFO sqlalchemy.engine.Engine [cached since 0.007029s ago] ('Promotion Letter',)
2025-12-09 11:29:40,036 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.name = ?
2025-12-09 11:29:40,036 INFO sqlalchemy.engine.Engine [cached since 0.008633s ago] ('Transfer Letter',)
2025-12-09 11:29:40,037 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.name = ?
2025-12-09 11:29:40,038 INFO sqlalchemy.engine.Engine [cached since 0.01003s ago] ('Resignation Acceptance',)
2025-12-09 11:29:40,038 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.name = ?
2025-12-09 11:29:40,039 INFO sqlalchemy.engine.Engine [cached since 0.01096s ago] ('Relieving Letter',)
2025-12-09 11:29:40,040 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.name = ?
2025-12-09 11:29:40,040 INFO sqlalchemy.engine.Engine [cached since 0.01213s ago] ('Warning Letter',)
2025-12-09 11:29:40,041 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.name = ?
2025-12-09 11:29:40,041 INFO sqlalchemy.engine.Engine [cached since 0.01354s ago] ('Appreciation Letter',)
2025-12-09 11:29:40,042 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.name = ?
2025-12-09 11:29:40,042 INFO sqlalchemy.engine.Engine [cached since 0.01461s ago] ('Salary Increment Letter',)
2025-12-09 11:29:40,043 INFO sqlalchemy.engine.Engine COMMIT
‚úÖ Corporate HR Letter Templates initialized
‚úÖ Database initialized with demo accounts and templates
‚úÖ Starting FastAPI server on http://localhost:8000
üìö API Documentation: http://localhost:8000/api/v1/docs

INFO:     Will watch for changes in these directories: ['/home/amramesh/wsl/Talent_Connect/main/backend']
ERROR:    [Errno 98] Address already in use
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             2025-12-09 11:29:38,231 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:38,232 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:38,232 INFO sqlalchemy.engine.Engine [cached since 925s ago] ('hr@talent.com',)
2025-12-09 11:29:38,233 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:38,234 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:38,234 INFO sqlalchemy.engine.Engine [cached since 925s ago] ('hr@talent.com',)
2025-12-09 11:29:38,240 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:38,240 INFO sqlalchemy.engine.Engine [cached since 924.7s ago] ('bf9e0d4d-1ee4-4925-b7f4-8d07c3fe01ff', 1, 'initial', None, None, '{}', '2025-12-09 05:59:38.239335', '2025-12-09 05:59:38.239356', None)
2025-12-09 11:29:38,246 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:38,246 INFO sqlalchemy.engine.Engine [cached since 924.7s ago] ('acd41fe6-e10e-4864-a4c7-ffea1d2afb23', 1, 'initial', None, None, '{}', '2025-12-09 05:59:38.246159', '2025-12-09 05:59:38.246170', None)
2025-12-09 11:29:38,249 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:38,282 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:38,284 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:38,284 INFO sqlalchemy.engine.Engine [cached since 924.8s ago] ()
2025-12-09 11:29:38,286 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:38,314 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:38,315 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:38,316 INFO sqlalchemy.engine.Engine [cached since 924.8s ago] ()
2025-12-09 11:29:38,322 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:38,330 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:38,876 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:38,878 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:38,878 INFO sqlalchemy.engine.Engine [cached since 925.7s ago] ('hr@talent.com',)
2025-12-09 11:29:38,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:38,881 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:38,881 INFO sqlalchemy.engine.Engine [cached since 925.7s ago] ('hr@talent.com',)
2025-12-09 11:29:38,887 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:38,888 INFO sqlalchemy.engine.Engine [cached since 925.4s ago] ('e625e214-5784-411d-853a-9e910320df5a', 1, 'initial', None, None, '{}', '2025-12-09 05:59:38.887782', '2025-12-09 05:59:38.887787', None)
2025-12-09 11:29:38,892 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:38,893 INFO sqlalchemy.engine.Engine [cached since 925.4s ago] ('d9253457-28f4-43e7-9570-0f24a350b219', 1, 'initial', None, None, '{}', '2025-12-09 05:59:38.892800', '2025-12-09 05:59:38.892805', None)
2025-12-09 11:29:38,894 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:38,926 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:38,927 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:38,927 INFO sqlalchemy.engine.Engine [cached since 925.4s ago] ()
2025-12-09 11:29:38,929 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:38,930 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39822 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:38,957 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:38,957 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:38,957 INFO sqlalchemy.engine.Engine [cached since 925.4s ago] ()
2025-12-09 11:29:38,959 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39818 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:39,621 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:39,622 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:39,622 INFO sqlalchemy.engine.Engine [cached since 926.4s ago] ('hr@talent.com',)
2025-12-09 11:29:39,623 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:39,625 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:39,625 INFO sqlalchemy.engine.Engine [cached since 926.4s ago] ('hr@talent.com',)
2025-12-09 11:29:39,628 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:39,628 INFO sqlalchemy.engine.Engine [cached since 926.1s ago] ('33f731d8-373a-4f1c-8712-c88f98215fa4', 1, 'initial', None, None, '{}', '2025-12-09 05:59:39.628686', '2025-12-09 05:59:39.628690', None)
2025-12-09 11:29:39,630 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:39,631 INFO sqlalchemy.engine.Engine [cached since 926.1s ago] ('afbf3069-8471-4e1a-b2ba-850ebd3e824e', 1, 'initial', None, None, '{}', '2025-12-09 05:59:39.630857', '2025-12-09 05:59:39.630860', None)
2025-12-09 11:29:39,632 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:39,822 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:39,823 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:39,823 INFO sqlalchemy.engine.Engine [cached since 926.3s ago] ()
2025-12-09 11:29:39,825 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39818 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:39,863 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:39,886 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:39,887 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:39,888 INFO sqlalchemy.engine.Engine [cached since 926.4s ago] ()
2025-12-09 11:29:39,890 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39822 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:40,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:40,413 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:40,414 INFO sqlalchemy.engine.Engine [cached since 927.2s ago] ('hr@talent.com',)
2025-12-09 11:29:40,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:40,414 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:40,415 INFO sqlalchemy.engine.Engine [cached since 927.2s ago] ('hr@talent.com',)
2025-12-09 11:29:40,418 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:40,418 INFO sqlalchemy.engine.Engine [cached since 926.9s ago] ('6de00bc8-00c1-47f1-b94e-00aabe9c9b77', 1, 'initial', None, None, '{}', '2025-12-09 05:59:40.418132', '2025-12-09 05:59:40.418138', None)
2025-12-09 11:29:40,422 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:40,422 INFO sqlalchemy.engine.Engine [cached since 926.9s ago] ('b590d0bd-770a-4021-b514-b474093f360f', 1, 'initial', None, None, '{}', '2025-12-09 05:59:40.422594', '2025-12-09 05:59:40.422598', None)
2025-12-09 11:29:40,423 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:40,444 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:40,444 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:40,444 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:40,445 INFO sqlalchemy.engine.Engine [cached since 926.9s ago] ()
2025-12-09 11:29:40,463 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:40,464 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:40,464 INFO sqlalchemy.engine.Engine [cached since 926.9s ago] ()
2025-12-09 11:29:40,467 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:40,469 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39822 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:39818 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:54020 - "GET /health HTTP/1.1" 200 OK
2025-12-09 11:29:55,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:55,760 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:55,760 INFO sqlalchemy.engine.Engine [cached since 942.6s ago] ('hr@talent.com',)
2025-12-09 11:29:55,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:55,764 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:55,764 INFO sqlalchemy.engine.Engine [cached since 942.6s ago] ('hr@talent.com',)
2025-12-09 11:29:55,771 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:55,772 INFO sqlalchemy.engine.Engine [cached since 942.3s ago] ('ee64cccc-3b3b-4a0a-a641-951912ca6c5d', 1, 'initial', None, None, '{}', '2025-12-09 05:59:55.771857', '2025-12-09 05:59:55.771862', None)
2025-12-09 11:29:55,775 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:55,775 INFO sqlalchemy.engine.Engine [cached since 942.3s ago] ('90ba5f6d-4a90-4c18-8a0a-0419118f8226', 1, 'initial', None, None, '{}', '2025-12-09 05:59:55.775171', '2025-12-09 05:59:55.775176', None)
2025-12-09 11:29:55,777 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:55,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:55,806 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:55,806 INFO sqlalchemy.engine.Engine [cached since 942.3s ago] ()
2025-12-09 11:29:55,808 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39836 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:55,813 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:55,836 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:55,837 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:55,839 INFO sqlalchemy.engine.Engine [cached since 942.3s ago] ()
2025-12-09 11:29:55,843 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39840 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:56,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:56,010 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:56,011 INFO sqlalchemy.engine.Engine [cached since 942.8s ago] ('hr@talent.com',)
2025-12-09 11:29:56,012 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:56,012 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:56,012 INFO sqlalchemy.engine.Engine [cached since 942.8s ago] ('hr@talent.com',)
2025-12-09 11:29:56,017 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:56,018 INFO sqlalchemy.engine.Engine [cached since 942.5s ago] ('37451382-6be7-4bc1-9e32-414bd70e08c5', 1, 'initial', None, None, '{}', '2025-12-09 05:59:56.017480', '2025-12-09 05:59:56.017489', None)
2025-12-09 11:29:56,019 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:56,019 INFO sqlalchemy.engine.Engine [cached since 942.5s ago] ('b36d7c23-07d1-4605-a090-29cf85b21806', 1, 'initial', None, None, '{}', '2025-12-09 05:59:56.019574', '2025-12-09 05:59:56.019578', None)
2025-12-09 11:29:56,022 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:56,036 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:56,037 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:56,038 INFO sqlalchemy.engine.Engine [cached since 942.5s ago] ()
2025-12-09 11:29:56,040 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:56,041 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39840 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:56,075 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:56,075 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:56,075 INFO sqlalchemy.engine.Engine [cached since 942.5s ago] ()
2025-12-09 11:29:56,078 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39836 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:56,934 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:56,935 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:56,936 INFO sqlalchemy.engine.Engine [cached since 943.8s ago] ('hr@talent.com',)
2025-12-09 11:29:56,936 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:56,938 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:56,938 INFO sqlalchemy.engine.Engine [cached since 943.8s ago] ('hr@talent.com',)
2025-12-09 11:29:56,943 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:56,943 INFO sqlalchemy.engine.Engine [cached since 943.4s ago] ('a4f4cfef-97a3-4ba8-a1e6-6e93be940d55', 1, 'initial', None, None, '{}', '2025-12-09 05:59:56.943171', '2025-12-09 05:59:56.943178', None)
2025-12-09 11:29:56,945 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:56,945 INFO sqlalchemy.engine.Engine [cached since 943.4s ago] ('b7b3755c-20c1-490b-90a3-b90708fb8169', 1, 'initial', None, None, '{}', '2025-12-09 05:59:56.945246', '2025-12-09 05:59:56.945248', None)
2025-12-09 11:29:56,946 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:56,973 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:56,973 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:56,973 INFO sqlalchemy.engine.Engine [cached since 943.4s ago] ()
2025-12-09 11:29:56,976 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39840 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:56,981 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:57,003 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:57,003 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:57,004 INFO sqlalchemy.engine.Engine [cached since 943.5s ago] ()
2025-12-09 11:29:57,006 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39836 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:57,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:57,780 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:57,781 INFO sqlalchemy.engine.Engine [cached since 944.6s ago] ('hr@talent.com',)
2025-12-09 11:29:57,783 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:57,784 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:29:57,784 INFO sqlalchemy.engine.Engine [cached since 944.6s ago] ('hr@talent.com',)
2025-12-09 11:29:57,787 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:57,787 INFO sqlalchemy.engine.Engine [cached since 944.3s ago] ('aadba0ec-757a-4be2-b33b-fdf2f0dcc996', 1, 'initial', None, None, '{}', '2025-12-09 05:59:57.787415', '2025-12-09 05:59:57.787419', None)
2025-12-09 11:29:57,790 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:29:57,791 INFO sqlalchemy.engine.Engine [cached since 944.3s ago] ('aa618067-2bde-4910-ba3f-e2d93b89b38b', 1, 'initial', None, None, '{}', '2025-12-09 05:59:57.790419', '2025-12-09 05:59:57.790424', None)
2025-12-09 11:29:57,792 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:57,832 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:57,832 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:57,833 INFO sqlalchemy.engine.Engine [cached since 944.3s ago] ()
2025-12-09 11:29:57,836 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39836 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:29:57,848 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:29:57,864 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:29:57,864 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:29:57,865 INFO sqlalchemy.engine.Engine [cached since 944.3s ago] ()
2025-12-09 11:29:57,870 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39840 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:30:01,781 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:01,783 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:01,783 INFO sqlalchemy.engine.Engine [cached since 948.6s ago] ('hr@talent.com',)
2025-12-09 11:30:01,784 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:01,785 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:01,785 INFO sqlalchemy.engine.Engine [cached since 948.6s ago] ('hr@talent.com',)
2025-12-09 11:30:01,791 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:30:01,791 INFO sqlalchemy.engine.Engine [cached since 948.3s ago] ('5c3872d5-bf7a-4530-a4fb-7d3c1fd31f4b', 1, 'initial', None, None, '{}', '2025-12-09 06:00:01.791463', '2025-12-09 06:00:01.791468', None)
2025-12-09 11:30:01,793 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:30:01,793 INFO sqlalchemy.engine.Engine [cached since 948.3s ago] ('e0c93a03-8f99-437e-b5e7-7dbd015eafa7', 1, 'initial', None, None, '{}', '2025-12-09 06:00:01.793604', '2025-12-09 06:00:01.793606', None)
2025-12-09 11:30:01,795 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:30:01,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:01,818 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:30:01,818 INFO sqlalchemy.engine.Engine [cached since 948.3s ago] ()
2025-12-09 11:30:01,822 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39840 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:30:01,830 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:30:01,852 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:01,853 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:30:01,853 INFO sqlalchemy.engine.Engine [cached since 948.3s ago] ()
2025-12-09 11:30:01,857 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39836 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:30:02,348 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:02,348 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:02,349 INFO sqlalchemy.engine.Engine [cached since 949.2s ago] ('hr@talent.com',)
üîç DEBUG process_template_selection: session_id=e0c93a03-8f99-437e-b5e7-7dbd015eafa7, template_id=1
2025-12-09 11:30:02,352 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:02,352 INFO sqlalchemy.engine.Engine [cached since 948.8s ago] ('e0c93a03-8f99-437e-b5e7-7dbd015eafa7',)
üîç DEBUG conversation.id=75, current selected_template_id=None
2025-12-09 11:30:02,355 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.id = ?
2025-12-09 11:30:02,355 INFO sqlalchemy.engine.Engine [cached since 948.8s ago] (1,)
üîç DEBUG template found: id=1, name='Offer Letter - Full Time'
üîç DEBUG After assignment: selected_template_id=1
‚ö†Ô∏è Error extracting fields from PDF: [Errno 21] Is a directory: '/home/amramesh/wsl/Talent_Connect/main/backend/Corporate_HR_Letter_Templates_ZIP'
üîç Using database fields: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact']
2025-12-09 11:30:02,358 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET current_step=?, selected_template_id=?, context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:02,358 INFO sqlalchemy.engine.Engine [cached since 948.8s ago] ('input_method', 1, '{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_manager", "hr_contact"], "optional_fields": ["middle_name", "employee_id", "probation_period", "benefits", "work_location", "notice_period"]}', '2025-12-09 06:00:02.358187', 75)
2025-12-09 11:30:02,360 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:30:02,372 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:02,372 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.id = ?
2025-12-09 11:30:02,373 INFO sqlalchemy.engine.Engine [cached since 948.8s ago] (75,)
üîç DEBUG After commit: selected_template_id=1
2025-12-09 11:30:02,375 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39836 - "POST /api/v1/documents/agent/select-template HTTP/1.1" 200 OK
2025-12-09 11:30:04,108 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:04,108 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:04,108 INFO sqlalchemy.engine.Engine [cached since 950.9s ago] ('hr@talent.com',)
2025-12-09 11:30:04,110 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:04,110 INFO sqlalchemy.engine.Engine [cached since 950.6s ago] ('e0c93a03-8f99-437e-b5e7-7dbd015eafa7',)
2025-12-09 11:30:04,112 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET current_step=?, input_method=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:04,112 INFO sqlalchemy.engine.Engine [cached since 950.5s ago] ('manual_entry', 'manual_entry', '2025-12-09 06:00:04.112484', 75)
2025-12-09 11:30:04,114 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39836 - "POST /api/v1/documents/agent/input-method HTTP/1.1" 200 OK
INFO:     127.0.0.1:58724 - "GET /health HTTP/1.1" 200 OK
2025-12-09 11:30:27,369 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:27,370 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:27,371 INFO sqlalchemy.engine.Engine [cached since 974.2s ago] ('hr@talent.com',)
2025-12-09 11:30:27,374 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:27,374 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:27,375 INFO sqlalchemy.engine.Engine [cached since 974.2s ago] ('hr@talent.com',)
2025-12-09 11:30:27,380 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:30:27,380 INFO sqlalchemy.engine.Engine [cached since 973.9s ago] ('e3aa14f8-95d3-4364-893a-933cb6e535ee', 1, 'initial', None, None, '{}', '2025-12-09 06:00:27.380192', '2025-12-09 06:00:27.380196', None)
2025-12-09 11:30:27,385 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:30:27,385 INFO sqlalchemy.engine.Engine [cached since 973.9s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c', 1, 'initial', None, None, '{}', '2025-12-09 06:00:27.385169', '2025-12-09 06:00:27.385176', None)
2025-12-09 11:30:27,390 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:30:27,411 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:27,412 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:30:27,412 INFO sqlalchemy.engine.Engine [cached since 973.9s ago] ()
2025-12-09 11:30:27,415 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56218 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:30:27,425 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:30:27,463 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:27,463 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:30:27,464 INFO sqlalchemy.engine.Engine [cached since 973.9s ago] ()
2025-12-09 11:30:27,470 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56222 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:30:29,327 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,327 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,327 INFO sqlalchemy.engine.Engine [cached since 976.1s ago] ('hr@dhl.com',)
2025-12-09 11:30:29,645 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56252 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2025-12-09 11:30:29,652 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,653 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,653 INFO sqlalchemy.engine.Engine [cached since 976.5s ago] ('hr@dhl.com',)
2025-12-09 11:30:29,655 INFO sqlalchemy.engine.Engine INSERT INTO document_conversations (session_id, user_id, current_step, selected_template_id, input_method, context, created_at, updated_at, completed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:30:29,655 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] ('3e2336f6-da55-440a-ac25-cfc21128484d', 4, 'initial', None, None, '{}', '2025-12-09 06:00:29.655623', '2025-12-09 06:00:29.655625', None)
2025-12-09 11:30:29,657 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:30:29,690 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,691 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.is_active IS 1
2025-12-09 11:30:29,691 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] ()
2025-12-09 11:30:29,692 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56262 - "POST /api/v1/documents/agent/start HTTP/1.1" 200 OK
2025-12-09 11:30:29,698 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,699 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,699 INFO sqlalchemy.engine.Engine [cached since 976.5s ago] ('hr@dhl.com',)
üîç DEBUG process_template_selection: session_id=3e2336f6-da55-440a-ac25-cfc21128484d, template_id=1
2025-12-09 11:30:29,705 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:29,705 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] ('3e2336f6-da55-440a-ac25-cfc21128484d',)
üîç DEBUG conversation.id=78, current selected_template_id=None
2025-12-09 11:30:29,707 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.id = ?
2025-12-09 11:30:29,707 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] (1,)
üîç DEBUG template found: id=1, name='Offer Letter - Full Time'
üîç DEBUG After assignment: selected_template_id=1
‚ö†Ô∏è Error extracting fields from PDF: [Errno 21] Is a directory: '/home/amramesh/wsl/Talent_Connect/main/backend/Corporate_HR_Letter_Templates_ZIP'
üîç Using database fields: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact']
2025-12-09 11:30:29,709 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET current_step=?, selected_template_id=?, context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:29,709 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] ('input_method', 1, '{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_manager", "hr_contact"], "optional_fields": ["middle_name", "employee_id", "probation_period", "benefits", "work_location", "notice_period"]}', '2025-12-09 06:00:29.709127', 78)
2025-12-09 11:30:29,710 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:30:29,720 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,721 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.id = ?
2025-12-09 11:30:29,721 INFO sqlalchemy.engine.Engine [cached since 976.1s ago] (78,)
üîç DEBUG After commit: selected_template_id=1
2025-12-09 11:30:29,722 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56274 - "POST /api/v1/documents/agent/select-template HTTP/1.1" 200 OK
2025-12-09 11:30:29,727 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,727 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,727 INFO sqlalchemy.engine.Engine [cached since 976.5s ago] ('hr@dhl.com',)
2025-12-09 11:30:29,729 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:29,729 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] ('3e2336f6-da55-440a-ac25-cfc21128484d',)
2025-12-09 11:30:29,731 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET current_step=?, input_method=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:29,731 INFO sqlalchemy.engine.Engine [cached since 976.1s ago] ('csv_upload', 'manual', '2025-12-09 06:00:29.731271', 78)
2025-12-09 11:30:29,734 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56276 - "POST /api/v1/documents/agent/input-method HTTP/1.1" 200 OK
2025-12-09 11:30:29,765 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,765 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,765 INFO sqlalchemy.engine.Engine [cached since 976.6s ago] ('hr@dhl.com',)
2025-12-09 11:30:29,771 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:29,772 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] ('3e2336f6-da55-440a-ac25-cfc21128484d',)
üîç DEBUG process_manual_field: field_name=employee_name, field_value=Amrutha Sharma
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'employee_name': 'Amrutha Sharma'}, 'validation_status': {'employee_name': 'valid'}}
üîç DEBUG manual_data now has: {'employee_name': 'Amrutha Sharma'}
2025-12-09 11:30:29,775 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:29,776 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (89 characters truncated) ... , "benefits", "work_location", "notice_period"], "manual_data": {"employee_name": "Amrutha Sharma"}, "validation_status": {"employee_name": "valid"}}', '2025-12-09 06:00:29.775736', 78)
2025-12-09 11:30:29,778 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['employee_name'], remaining: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56292 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:30:29,807 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,808 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,808 INFO sqlalchemy.engine.Engine [cached since 976.6s ago] ('hr@dhl.com',)
2025-12-09 11:30:29,810 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:29,810 INFO sqlalchemy.engine.Engine [cached since 976.3s ago] ('3e2336f6-da55-440a-ac25-cfc21128484d',)
üîç DEBUG process_manual_field: field_name=designation, field_value=Senior Software Engineer
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'employee_name': 'Amrutha Sharma'}, 'validation_status': {'employee_name': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'employee_name': 'Amrutha Sharma'}, 'validation_status': {'employee_name': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer'}, 'validation_status': {'employee_name': 'valid', 'designation': 'valid'}}
üîç DEBUG manual_data now has: {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer'}
2025-12-09 11:30:29,812 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:29,812 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (156 characters truncated) ... mployee_name": "Amrutha Sharma", "designation": "Senior Software Engineer"}, "validation_status": {"employee_name": "valid", "designation": "valid"}}', '2025-12-09 06:00:29.812359', 78)
2025-12-09 11:30:29,813 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['employee_name', 'designation'], remaining: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56304 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:30:29,829 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,829 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,829 INFO sqlalchemy.engine.Engine [cached since 976.6s ago] ('hr@dhl.com',)
2025-12-09 11:30:29,833 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:29,833 INFO sqlalchemy.engine.Engine [cached since 976.3s ago] ('3e2336f6-da55-440a-ac25-cfc21128484d',)
üîç DEBUG process_manual_field: field_name=joining_date, field_value=2025-02-15
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer'}, 'validation_status': {'employee_name': 'valid', 'designation': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer'}, 'validation_status': {'employee_name': 'valid', 'designation': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15'}, 'validation_status': {'employee_name': 'valid', 'designation': 'valid', 'joining_date': 'valid'}}
üîç DEBUG manual_data now has: {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15'}
2025-12-09 11:30:29,837 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:29,837 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (211 characters truncated) ...  Software Engineer", "joining_date": "2025-02-15"}, "validation_status": {"employee_name": "valid", "designation": "valid", "joining_date": "valid"}}', '2025-12-09 06:00:29.837503', 78)
2025-12-09 11:30:29,838 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['employee_name', 'designation', 'joining_date'], remaining: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56314 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:30:29,855 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,855 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,856 INFO sqlalchemy.engine.Engine [cached since 976.7s ago] ('hr@dhl.com',)
2025-12-09 11:30:29,857 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:29,857 INFO sqlalchemy.engine.Engine [cached since 976.3s ago] ('3e2336f6-da55-440a-ac25-cfc21128484d',)
üîç DEBUG process_manual_field: field_name=salary, field_value=2500000
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15'}, 'validation_status': {'employee_name': 'valid', 'designation': 'valid', 'joining_date': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15'}, 'validation_status': {'employee_name': 'valid', 'designation': 'valid', 'joining_date': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15', 'salary': '2500000'}, 'validation_status': {'employee_name': 'valid', 'designation': 'valid', 'joining_date': 'valid', 'salary': 'valid'}}
üîç DEBUG manual_data now has: {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15', 'salary': '2500000'}
2025-12-09 11:30:29,858 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:29,859 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (251 characters truncated) ... 25-02-15", "salary": "2500000"}, "validation_status": {"employee_name": "valid", "designation": "valid", "joining_date": "valid", "salary": "valid"}}', '2025-12-09 06:00:29.858873', 78)
2025-12-09 11:30:29,860 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['employee_name', 'designation', 'joining_date', 'salary'], remaining: ['candidate_name', 'position', 'department', 'start_date', 'reporting_manager', 'hr_contact', 'middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56316 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:30:29,885 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,886 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,886 INFO sqlalchemy.engine.Engine [cached since 976.7s ago] ('hr@dhl.com',)
2025-12-09 11:30:29,891 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:29,891 INFO sqlalchemy.engine.Engine [cached since 976.3s ago] ('3e2336f6-da55-440a-ac25-cfc21128484d',)
2025-12-09 11:30:29,895 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:30:29,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,900 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:29,900 INFO sqlalchemy.engine.Engine [cached since 976.4s ago] ('3e2336f6-da55-440a-ac25-cfc21128484d',)
üîç DEBUG generate_preview: selected_template_id=1
2025-12-09 11:30:29,902 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.id = ?
2025-12-09 11:30:29,902 INFO sqlalchemy.engine.Engine [cached since 976.4s ago] (1,)
üîç DEBUG generate_preview: template.name='Offer Letter - Full Time', lower='offer letter - full time'
üîç DEBUG template_filename='Offer_Letter.pdf'
üîç DEBUG template_path='/home/amramesh/wsl/Talent_Connect/main/backend/Corporate_HR_Letter_Templates_ZIP/Offer_Letter.pdf', exists=True
üîç DEBUG Using PDF-based preview
üîç _replace_placeholders called with data keys: ['employee_name', 'designation', 'joining_date', 'salary']
üîç Processing field 'employee_name' with value 'Amrutha Sharma'
üîç Processing field 'designation' with value 'Senior Software Engineer'
üîç Processing field 'joining_date' with value '2025-02-15'
üîç Replacing [Date of Joining] with '2025-02-15'
üîç Processing field 'salary' with value '2500000'
üîç Replacing [CTC] with '2500000'
2025-12-09 11:30:29,906 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56318 - "POST /api/v1/documents/agent/preview HTTP/1.1" 200 OK
2025-12-09 11:30:29,911 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,911 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,911 INFO sqlalchemy.engine.Engine [cached since 976.7s ago] ('hr@dhl.com',)
2025-12-09 11:30:29,914 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:29,914 INFO sqlalchemy.engine.Engine [cached since 976.4s ago] ('3e2336f6-da55-440a-ac25-cfc21128484d',)
üîç DEBUG generate_documents: session_id=3e2336f6-da55-440a-ac25-cfc21128484d, format=pdf
üîç DEBUG context keys: ['template_name', 'required_fields', 'optional_fields', 'manual_data', 'validation_status']
üîç DEBUG manual_data: {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15', 'salary': '2500000'}
üîç DEBUG all_manual_entries: None
üîç DEBUG all_entries to generate: [{'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15', 'salary': '2500000'}]
2025-12-09 11:30:29,917 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.id = ?
2025-12-09 11:30:29,917 INFO sqlalchemy.engine.Engine [cached since 976.4s ago] (1,)
üîç DEBUG: Generating document with data: {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15', 'salary': '2500000'}
üîç User-provided company_name: None
üîç User-provided company_address: None
üîç User-provided contact_info: None
üîç PDF GENERATION DEBUG:
Template text (first 500 chars): [Company Logo]
[Company Name]
[Company Address]
[Contact Info]
 Offer Letter
 
Dear [Employee Name],
We are pleased to offer you the position of [Designation] at [Company Name]. Your
employment will commence on [Date of Joining] with a total annual compensation of
[CTC].
Please review the enclosed terms and confirm your acceptance by signing and returning a
copy of this letter by [Offer Acceptance Date].
Welcome to [Company Name]. We look forward to a mutually beneficial association.
Sincerely,

Enhanced data keys: ['employee_name', 'designation', 'joining_date', 'salary']
Enhanced data values: {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15', 'salary': '2500000'}
üîç _replace_placeholders called with data keys: ['employee_name', 'designation', 'joining_date', 'salary']
üîç Processing field 'employee_name' with value 'Amrutha Sharma'
üîç Processing field 'designation' with value 'Senior Software Engineer'
üîç Processing field 'joining_date' with value '2025-02-15'
üîç Replacing [Date of Joining] with '2025-02-15'
üîç Processing field 'salary' with value '2500000'
üîç Replacing [CTC] with '2500000'
After replacement - checking for remaining placeholders:
‚ö†Ô∏è WARNING: These placeholders were NOT replaced: ['Company Logo', 'Company Name', 'Company Address', 'Contact Info', 'Company Name', 'Offer Acceptance Date', 'Company Name', 'Signatory Name', 'Signatory Designation', 'Company Name']
After replacement (first 500 chars): [Company Logo]
[Company Name]
[Company Address]
[Contact Info]
 Offer Letter
 
Dear Amrutha Sharma,
We are pleased to offer you the position of Senior Software Engineer at [Company Name]. Your
employment will commence on 2025-02-15 with a total annual compensation of
2500000.
Please review the enclosed terms and confirm your acceptance by signing and returning a
copy of this letter by [Offer Acceptance Date].
Welcome to [Company Name]. We look forward to a mutually beneficial association.
Sincer
2025-12-09 11:30:29,928 INFO sqlalchemy.engine.Engine INSERT INTO generated_documents (template_id, employee_code, phone_number_hash, email_hash, recipient_name_encrypted, document_type, content, document_data, preview_masked_html, file_storage_path, file_hash, generated_by, generated_at, status, email_sent, digitally_signed, job_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-09 11:30:29,928 INFO sqlalchemy.engine.Engine [cached since 976.2s ago] (1, None, None, None, 'gAAAAABpN7r9VdDF3gaSXEN5TaK08m0FjyhxJk7jrN54P1SnYCv6bMS7tCEZaNZ0NuRh3FYXWPeA5z_7sDolLyLh0SHTAepNhg==', 'offer_letter_-_full_time', '%PDF-1.4\n%\x93\x8c\x8b\x9e ReportLab Generated PDF document http://www.reportlab.com\n1 0 obj\n<<\n/F1 2 0 R /F2 3 0 R\n>>\nendobj\n2 0 obj\n<<\n/Ba ... (1874 characters truncated) ... 3f15e3c>]\n% ReportLab generated PDF document -- digest (http://www.reportlab.com)\n\n/Info 6 0 R\n/Root 5 0 R\n/Size 9\n>>\nstartxref\n1659\n%%EOF\n', '{"employee_name": "Amrutha Sharma", "designation": "Senior Software Engineer", "joining_date": "2025-02-15", "salary": "2500000"}', None, 'documents/fb144dd0-1ade-42db-8fca-8eca01c67561.pdf', None, 4, '2025-12-09 06:00:29.928478', 'generated', 0, 0, None)
2025-12-09 11:30:29,930 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56332 - "POST /api/v1/documents/agent/generate HTTP/1.1" 200 OK
2025-12-09 11:30:29,957 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:29,957 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:29,957 INFO sqlalchemy.engine.Engine [cached since 976.8s ago] ('hr@dhl.com',)
2025-12-09 11:30:29,960 INFO sqlalchemy.engine.Engine SELECT generated_documents.id, generated_documents.template_id, generated_documents.employee_code, generated_documents.phone_number_hash, generated_documents.email_hash, generated_documents.recipient_name_encrypted, generated_documents.document_type, generated_documents.content, generated_documents.document_data, generated_documents.preview_masked_html, generated_documents.file_storage_path, generated_documents.file_hash, generated_documents.generated_by, generated_documents.generated_at, generated_documents.status, generated_documents.email_sent, generated_documents.digitally_signed, generated_documents.job_id 
FROM generated_documents 
WHERE generated_documents.id = ?
2025-12-09 11:30:29,960 INFO sqlalchemy.engine.Engine [cached since 591.8s ago] (5,)
üîç User-provided company_name: DHL Group
üîç User-provided company_address: Corporate Headquarters
Bonn, Germany
üîç User-provided contact_info: hr@dhl.com | +49 228 182 0
üîç PDF GENERATION DEBUG:
Template text (first 500 chars): %PDF-1.4
%¬ì¬å¬ã¬û ReportLab Generated PDF document http://www.reportlab.com
1 0 obj
<<
/F1 2 0 R /F2 3 0 R
>>
endobj
2 0 obj
<<
/BaseFont /Helvetica /Encoding /WinAnsiEncoding /Name /F1 /Subtype /Type1 /Type /Font
>>
endobj
3 0 obj
<<
/BaseFont /Courier /Encoding /WinAnsiEncoding /Name /F2 /Subtype /Type1 /Type /Font
>>
endobj
4 0 obj
<<
/Contents 8 0 R /MediaBox [ 0 0 612 792 ] /Parent 7 0 R /Resources <<
/Font 1 0 R /ProcSet [ /PDF /Text /ImageB /ImageC /ImageI ]
>> /Rotate 0 /Trans <<

>> 
  /Ty
Enhanced data keys: ['employee_name', 'designation', 'joining_date', 'salary', 'content', 'company_name', 'company_address', 'contact_info']
Enhanced data values: {'employee_name': 'Amrutha Sharma', 'designation': 'Senior Software Engineer', 'joining_date': '2025-02-15', 'salary': '2500000', 'content': '%PDF-1.4\n%\x93\x8c\x8b\x9e ReportLab Generated PDF document http://www.reportlab.com\n1 0 obj\n<<\n/F1 2 0 R /F2 3 0 R\n>>\nendobj\n2 0 obj\n<<\n/BaseFont /Helvetica /Encoding /WinAnsiEncoding /Name /F1 /Subtype /Type1 /Type /Font\n>>\nendobj\n3 0 obj\n<<\n/BaseFont /Courier /Encoding /WinAnsiEncoding /Name /F2 /Subtype /Type1 /Type /Font\n>>\nendobj\n4 0 obj\n<<\n/Contents 8 0 R /MediaBox [ 0 0 612 792 ] /Parent 7 0 R /Resources <<\n/Font 1 0 R /ProcSet [ /PDF /Text /ImageB /ImageC /ImageI ]\n>> /Rotate 0 /Trans <<\n\n>> \n  /Type /Page\n>>\nendobj\n5 0 obj\n<<\n/PageMode /UseNone /Pages 7 0 R /Type /Catalog\n>>\nendobj\n6 0 obj\n<<\n/Author (\\(anonymous\\)) /CreationDate (D:20251209113029+05\'00\') /Creator (\\(unspecified\\)) /Keywords () /ModDate (D:20251209113029+05\'00\') /Producer (ReportLab PDF Library - www.reportlab.com) \n  /Subject (\\(unspecified\\)) /Title (\\(anonymous\\)) /Trapped /False\n>>\nendobj\n7 0 obj\n<<\n/Count 1 /Kids [ 4 0 R ] /Type /Pages\n>>\nendobj\n8 0 obj\n<<\n/Filter [ /ASCII85Decode /FlateDecode ] /Length 640\n>>\nstream\nGarVLgMYJ*&:Ml+S0o!^8SsZuoJ&2)5`1()9*dsKD!eL6Ya9HU6fc#Nm&#Wg#*3?KF#c$hc8nJ8QD\\AlJPRREmW.@lap.ZP4@-NnD)lh\\jNj6\\)(r*#%TIans3gr+j(.V.*&(-:KJ\'F2:hk`C?l+"jniXd%a]sb_lGi+K0HCq;[D1Unqu`2P:AeIQVZ6I)Fm[9IQQ[#1(%B1!Vbl9>L)^sC!kG\'b7HPj8B%h+>>%"lV:5ejph+rWAKT.27WCF+r$)t78KJa"9QU+fmDCin#l`d`jfYsRhdn2ut/4\'D#V_lCH]C"c!P27VABef]NW>$h_q4f-QK-DhCUT><o;iZPh":l0!JhUde;X0!q(XL"kR)Ln?fD+PIA`Mc")Tj(Th\\.e*qBp!D-uhUc\'3TA01OdU,VNFVDf$("kBG3cRl_/rtXc]K?Ba9f(!d59dDBJ/!WU-L?WsWY,Top<+A@7b:eg&L0i:WW*TU6lk!FDsk,uW=n7:R@A4_Z17[t2#_3]rLt7TNEcUB\\S^bDs*3P7C7-I3#<T7/bZ!fnj+mq%;s<F7SRdiD($.aH1<@ht]N`eFF`B=k3<Fj$::t<hJomM9E\'t%.MJcF.?F&5c3[ak5";Tp0Fdth=sg`s6Vrg##DoC0XU~>endstream\nendobj\nxref\n0 9\n0000000000 65535 f \n0000000073 00000 n \n0000000114 00000 n \n0000000221 00000 n \n0000000326 00000 n \n0000000519 00000 n \n0000000587 00000 n \n0000000870 00000 n \n0000000929 00000 n \ntrailer\n<<\n/ID \n[<e2caa7387b859f862f6bc6be23f15e3c><e2caa7387b859f862f6bc6be23f15e3c>]\n% ReportLab generated PDF document -- digest (http://www.reportlab.com)\n\n/Info 6 0 R\n/Root 5 0 R\n/Size 9\n>>\nstartxref\n1659\n%%EOF\n', 'company_name': 'DHL Group', 'company_address': 'Corporate Headquarters\nBonn, Germany', 'contact_info': 'hr@dhl.com | +49 228 182 0'}
üîç _replace_placeholders called with data keys: ['employee_name', 'designation', 'joining_date', 'salary', 'content', 'company_name', 'company_address', 'contact_info']
üîç Processing field 'employee_name' with value 'Amrutha Sharma'
üîç Processing field 'designation' with value 'Senior Software Engineer'
üîç Processing field 'joining_date' with value '2025-02-15'
üîç Replacing [Date of Joining] with '2025-02-15'
üîç Processing field 'salary' with value '2500000'
üîç Replacing [CTC] with '2500000'
üîç Processing field 'content' with value '%PDF-1.4
%¬ì¬å¬ã¬û ReportLab Generated PDF document http://www.reportlab.com
1 0 obj
<<
/F1 2 0 R /F2 3 0 R
>>
endobj
2 0 obj
<<
/BaseFont /Helvetica /Encoding /WinAnsiEncoding /Name /F1 /Subtype /Type1 /Type /Font
>>
endobj
3 0 obj
<<
/BaseFont /Courier /Encoding /WinAnsiEncoding /Name /F2 /Subtype /Type1 /Type /Font
>>
endobj
4 0 obj
<<
/Contents 8 0 R /MediaBox [ 0 0 612 792 ] /Parent 7 0 R /Resources <<
/Font 1 0 R /ProcSet [ /PDF /Text /ImageB /ImageC /ImageI ]
>> /Rotate 0 /Trans <<

>> 
  /Type /Page
>>
endobj
5 0 obj
<<
/PageMode /UseNone /Pages 7 0 R /Type /Catalog
>>
endobj
6 0 obj
<<
/Author (\(anonymous\)) /CreationDate (D:20251209113029+05'00') /Creator (\(unspecified\)) /Keywords () /ModDate (D:20251209113029+05'00') /Producer (ReportLab PDF Library - www.reportlab.com) 
  /Subject (\(unspecified\)) /Title (\(anonymous\)) /Trapped /False
>>
endobj
7 0 obj
<<
/Count 1 /Kids [ 4 0 R ] /Type /Pages
>>
endobj
8 0 obj
<<
/Filter [ /ASCII85Decode /FlateDecode ] /Length 640
>>
stream
GarVLgMYJ*&:Ml+S0o!^8SsZuoJ&2)5`1()9*dsKD!eL6Ya9HU6fc#Nm&#Wg#*3?KF#c$hc8nJ8QD\AlJPRREmW.@lap.ZP4@-NnD)lh\jNj6\)(r*#%TIans3gr+j(.V.*&(-:KJ'F2:hk`C?l+"jniXd%a]sb_lGi+K0HCq;[D1Unqu`2P:AeIQVZ6I)Fm[9IQQ[#1(%B1!Vbl9>L)^sC!kG'b7HPj8B%h+>>%"lV:5ejph+rWAKT.27WCF+r$)t78KJa"9QU+fmDCin#l`d`jfYsRhdn2ut/4'D#V_lCH]C"c!P27VABef]NW>$h_q4f-QK-DhCUT><o;iZPh":l0!JhUde;X0!q(XL"kR)Ln?fD+PIA`Mc")Tj(Th\.e*qBp!D-uhUc'3TA01OdU,VNFVDf$("kBG3cRl_/rtXc]K?Ba9f(!d59dDBJ/!WU-L?WsWY,Top<+A@7b:eg&L0i:WW*TU6lk!FDsk,uW=n7:R@A4_Z17[t2#_3]rLt7TNEcUB\S^bDs*3P7C7-I3#<T7/bZ!fnj+mq%;s<F7SRdiD($.aH1<@ht]N`eFF`B=k3<Fj$::t<hJomM9E't%.MJcF.?F&5c3[ak5";Tp0Fdth=sg`s6Vrg##DoC0XU~>endstream
endobj
xref
0 9
0000000000 65535 f 
0000000073 00000 n 
0000000114 00000 n 
0000000221 00000 n 
0000000326 00000 n 
0000000519 00000 n 
0000000587 00000 n 
0000000870 00000 n 
0000000929 00000 n 
trailer
<<
/ID 
[<e2caa7387b859f862f6bc6be23f15e3c><e2caa7387b859f862f6bc6be23f15e3c>]
% ReportLab generated PDF document -- digest (http://www.reportlab.com)

/Info 6 0 R
/Root 5 0 R
/Size 9
>>
startxref
1659
%%EOF
'
üîç Processing field 'company_name' with value 'DHL Group'
üîç Processing field 'company_address' with value 'Corporate Headquarters
Bonn, Germany'
üîç Processing field 'contact_info' with value 'hr@dhl.com | +49 228 182 0'
After replacement - checking for remaining placeholders:
‚ö†Ô∏è WARNING: These placeholders were NOT replaced: [' 0 0 612 792 ', ' /PDF /Text /ImageB /ImageC /ImageI ', ' 4 0 R ', ' /ASCII85Decode /FlateDecode ', 'D1Unqu`2P:AeIQVZ6I)Fm[9IQQ[#1(%B1!Vbl9>L)^sC!kG\'b7HPj8B%h+>>%"lV:5ejph+rWAKT.27WCF+r$)t78KJa"9QU+fmDCin#l`d`jfYsRhdn2ut/4\'D#V_lCH', 't2#_3', 'ak5";Tp0Fdth=sg`s6Vrg##DoC0XU~>endstream\nendobj\nxref\n0 9\n0000000000 65535 f \n0000000073 00000 n \n0000000114 00000 n \n0000000221 00000 n \n0000000326 00000 n \n0000000519 00000 n \n0000000587 00000 n \n0000000870 00000 n \n0000000929 00000 n \ntrailer\n<<\n/ID \n[<e2caa7387b859f862f6bc6be23f15e3c><e2caa7387b859f862f6bc6be23f15e3c>']
After replacement (first 500 chars): %PDF-1.4
%¬ì¬å¬ã¬û ReportLab Generated PDF document http://www.reportlab.com
1 0 obj
<<
/F1 2 0 R /F2 3 0 R
>>
endobj
2 0 obj
<<
/BaseFont /Helvetica /Encoding /WinAnsiEncoding /Name /F1 /Subtype /Type1 /Type /Font
>>
endobj
3 0 obj
<<
/BaseFont /Courier /Encoding /WinAnsiEncoding /Name /F2 /Subtype /Type1 /Type /Font
>>
endobj
4 0 obj
<<
/Contents 8 0 R /MediaBox [ 0 0 612 792 ] /Parent 7 0 R /Resources <<
/Font 1 0 R /ProcSet [ /PDF /Text /ImageB /ImageC /ImageI ]
>> /Rotate 0 /Trans <<

>> 
  /Ty
2025-12-09 11:30:29,964 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:56336 - "GET /api/v1/documents/5/download?format=pdf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/uvicorn/protocols/http/httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app
    await route.handle(scope, receive, send)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/app/api/v1/documents.py", line 522, in download_document
    DocumentGenerator.generate_pdf_from_template(
  File "/home/amramesh/wsl/Talent_Connect/main/backend/app/utils/document_generator.py", line 104, in generate_pdf_from_template
    story.extend(cls._create_pdf_content(content, enhanced_data))
  File "/home/amramesh/wsl/Talent_Connect/main/backend/app/utils/document_generator.py", line 382, in _create_pdf_content
    story.append(Paragraph(para_text, body_style))
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/reportlab/platypus/paragraph.py", line 1859, in __init__
    self._setup(text, style, bulletText or getattr(style,'bulletText',None), frags, cleanBlockQuotedText)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/reportlab/platypus/paragraph.py", line 1880, in _setup
    style, frags, bulletTextFrags = _parser.parse(text,style)
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/reportlab/platypus/paraparser.py", line 3221, in parse
    return self._complete_parse()
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/reportlab/platypus/paraparser.py", line 3155, in _complete_parse
    self._syntax_error('parse ended with %d unclosed tags\n %s' % (len(self._stack),'\n '.join((x.__tag__ for x in reversed(self._stack)))))
  File "/home/amramesh/wsl/Talent_Connect/main/backend/venv/lib/python3.10/site-packages/reportlab/platypus/paraparser.py", line 2780, in _syntax_error
    raise ValueError('paraparser: syntax error: %s' % message)
ValueError: paraparser: syntax error: parse ended with 1 unclosed tags
 para
2025-12-09 11:30:38,810 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:38,810 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:38,810 INFO sqlalchemy.engine.Engine [cached since 985.6s ago] ('hr@talent.com',)
üîç DEBUG process_template_selection: session_id=3cab2736-b219-468b-bf42-bbb46f13d72c, template_id=1
2025-12-09 11:30:38,813 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:38,813 INFO sqlalchemy.engine.Engine [cached since 985.3s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG conversation.id=77, current selected_template_id=None
2025-12-09 11:30:38,816 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.id = ?
2025-12-09 11:30:38,816 INFO sqlalchemy.engine.Engine [cached since 985.3s ago] (1,)
üîç DEBUG template found: id=1, name='Offer Letter - Full Time'
üîç DEBUG After assignment: selected_template_id=1
‚ö†Ô∏è Error extracting fields from PDF: [Errno 21] Is a directory: '/home/amramesh/wsl/Talent_Connect/main/backend/Corporate_HR_Letter_Templates_ZIP'
üîç Using database fields: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact']
2025-12-09 11:30:38,819 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET current_step=?, selected_template_id=?, context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:38,820 INFO sqlalchemy.engine.Engine [cached since 985.3s ago] ('input_method', 1, '{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_manager", "hr_contact"], "optional_fields": ["middle_name", "employee_id", "probation_period", "benefits", "work_location", "notice_period"]}', '2025-12-09 06:00:38.819886', 77)
2025-12-09 11:30:38,822 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:30:38,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:38,840 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.id = ?
2025-12-09 11:30:38,840 INFO sqlalchemy.engine.Engine [cached since 985.3s ago] (77,)
üîç DEBUG After commit: selected_template_id=1
2025-12-09 11:30:38,843 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56234 - "POST /api/v1/documents/agent/select-template HTTP/1.1" 200 OK
2025-12-09 11:30:40,482 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:40,483 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:40,484 INFO sqlalchemy.engine.Engine [cached since 987.3s ago] ('hr@talent.com',)
2025-12-09 11:30:40,489 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:40,489 INFO sqlalchemy.engine.Engine [cached since 986.9s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
2025-12-09 11:30:40,493 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET current_step=?, input_method=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:40,494 INFO sqlalchemy.engine.Engine [cached since 986.9s ago] ('manual_entry', 'manual_entry', '2025-12-09 06:00:40.493797', 77)
2025-12-09 11:30:40,496 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56234 - "POST /api/v1/documents/agent/input-method HTTP/1.1" 200 OK
2025-12-09 11:30:59,310 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:30:59,310 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:30:59,311 INFO sqlalchemy.engine.Engine [cached since 1006s ago] ('hr@talent.com',)
2025-12-09 11:30:59,314 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:30:59,314 INFO sqlalchemy.engine.Engine [cached since 1006s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=candidate_name, field_value=sarah
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah'}, 'validation_status': {'candidate_name': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah'}
2025-12-09 11:30:59,317 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:30:59,317 INFO sqlalchemy.engine.Engine [cached since 1006s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (82 characters truncated) ... period", "benefits", "work_location", "notice_period"], "manual_data": {"candidate_name": "sarah"}, "validation_status": {"candidate_name": "valid"}}', '2025-12-09 06:00:59.317174', 77)
2025-12-09 11:30:59,319 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name'], remaining: ['position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:02,637 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:02,638 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:02,638 INFO sqlalchemy.engine.Engine [cached since 1009s ago] ('hr@talent.com',)
2025-12-09 11:31:02,642 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:02,643 INFO sqlalchemy.engine.Engine [cached since 1009s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=position, field_value=engineer
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah'}, 'validation_status': {'candidate_name': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah'}, 'validation_status': {'candidate_name': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer'}
2025-12-09 11:31:02,647 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:02,647 INFO sqlalchemy.engine.Engine [cached since 1009s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (127 characters truncated) ... _period"], "manual_data": {"candidate_name": "sarah", "position": "engineer"}, "validation_status": {"candidate_name": "valid", "position": "valid"}}', '2025-12-09 06:01:02.647354', 77)
2025-12-09 11:31:02,652 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position'], remaining: ['department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:04,138 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:04,138 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:04,138 INFO sqlalchemy.engine.Engine [cached since 1011s ago] ('hr@talent.com',)
2025-12-09 11:31:04,141 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:04,141 INFO sqlalchemy.engine.Engine [cached since 1011s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=department, field_value=Information Technology
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology'}
2025-12-09 11:31:04,144 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:04,144 INFO sqlalchemy.engine.Engine [cached since 1011s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (190 characters truncated) ... ": "engineer", "department": "Information Technology"}, "validation_status": {"candidate_name": "valid", "position": "valid", "department": "valid"}}', '2025-12-09 06:01:04.144092', 77)
2025-12-09 11:31:04,146 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position', 'department'], remaining: ['start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:08,519 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:08,520 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:08,520 INFO sqlalchemy.engine.Engine [cached since 1015s ago] ('hr@talent.com',)
2025-12-09 11:31:08,525 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:08,526 INFO sqlalchemy.engine.Engine [cached since 1015s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=start_date, field_value=2025-12-17
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17'}
2025-12-09 11:31:08,530 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:08,531 INFO sqlalchemy.engine.Engine [cached since 1015s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (241 characters truncated) ... y", "start_date": "2025-12-17"}, "validation_status": {"candidate_name": "valid", "position": "valid", "department": "valid", "start_date": "valid"}}', '2025-12-09 06:01:08.530865', 77)
2025-12-09 11:31:08,534 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position', 'department', 'start_date'], remaining: ['salary', 'reporting_manager', 'hr_contact', 'middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:10,854 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:10,855 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:10,855 INFO sqlalchemy.engine.Engine [cached since 1018s ago] ('hr@talent.com',)
2025-12-09 11:31:10,859 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:10,859 INFO sqlalchemy.engine.Engine [cached since 1017s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=salary, field_value=2423224
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224'}
2025-12-09 11:31:10,864 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:10,864 INFO sqlalchemy.engine.Engine [cached since 1017s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (281 characters truncated) ... : "2423224"}, "validation_status": {"candidate_name": "valid", "position": "valid", "department": "valid", "start_date": "valid", "salary": "valid"}}', '2025-12-09 06:01:10.864233', 77)
2025-12-09 11:31:10,867 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position', 'department', 'start_date', 'salary'], remaining: ['reporting_manager', 'hr_contact', 'middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:13,234 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:13,235 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:13,235 INFO sqlalchemy.engine.Engine [cached since 1020s ago] ('hr@talent.com',)
2025-12-09 11:31:13,241 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:13,241 INFO sqlalchemy.engine.Engine [cached since 1020s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=reporting_manager, field_value=amru
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru'}
2025-12-09 11:31:13,245 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:13,246 INFO sqlalchemy.engine.Engine [cached since 1020s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (340 characters truncated) ... us": {"candidate_name": "valid", "position": "valid", "department": "valid", "start_date": "valid", "salary": "valid", "reporting_manager": "valid"}}', '2025-12-09 06:01:13.245843', 77)
2025-12-09 11:31:13,250 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager'], remaining: ['hr_contact', 'middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:15,680 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:15,680 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:15,680 INFO sqlalchemy.engine.Engine [cached since 1022s ago] ('hr@talent.com',)
2025-12-09 11:31:15,684 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:15,684 INFO sqlalchemy.engine.Engine [cached since 1022s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=hr_contact, field_value=hr head
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head'}
2025-12-09 11:31:15,687 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:15,687 INFO sqlalchemy.engine.Engine [cached since 1022s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (388 characters truncated) ...  "valid", "position": "valid", "department": "valid", "start_date": "valid", "salary": "valid", "reporting_manager": "valid", "hr_contact": "valid"}}', '2025-12-09 06:01:15.687526', 77)
2025-12-09 11:31:15,689 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], remaining: ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:16,989 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:16,989 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:16,989 INFO sqlalchemy.engine.Engine [cached since 1024s ago] ('hr@talent.com',)
2025-12-09 11:31:16,992 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:16,992 INFO sqlalchemy.engine.Engine [cached since 1023s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=middle_name, field_value=skip
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip'}
2025-12-09 11:31:16,994 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:16,994 INFO sqlalchemy.engine.Engine [cached since 1023s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (435 characters truncated) ... alid", "department": "valid", "start_date": "valid", "salary": "valid", "reporting_manager": "valid", "hr_contact": "valid", "middle_name": "valid"}}', '2025-12-09 06:01:16.994528', 77)
2025-12-09 11:31:16,996 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name'], remaining: ['employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:17,621 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:17,621 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:17,621 INFO sqlalchemy.engine.Engine [cached since 1024s ago] ('hr@talent.com',)
2025-12-09 11:31:17,624 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:17,625 INFO sqlalchemy.engine.Engine [cached since 1024s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=employee_id, field_value=skip
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid'}}
üîç DEBUG validation result: is_valid=False, error='skip' is not a valid employee code. Use 3-20 characters with uppercase letters, numbers, and hyphens.
2025-12-09 11:31:17,627 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:18,152 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:18,153 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:18,153 INFO sqlalchemy.engine.Engine [cached since 1025s ago] ('hr@talent.com',)
2025-12-09 11:31:18,159 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:18,159 INFO sqlalchemy.engine.Engine [cached since 1025s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=probation_period, field_value=skip
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid', 'probation_period': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip'}
2025-12-09 11:31:18,164 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:18,164 INFO sqlalchemy.engine.Engine [cached since 1025s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (492 characters truncated) ...  "start_date": "valid", "salary": "valid", "reporting_manager": "valid", "hr_contact": "valid", "middle_name": "valid", "probation_period": "valid"}}', '2025-12-09 06:01:18.163914', 77)
2025-12-09 11:31:18,167 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'probation_period'], remaining: ['employee_id', 'benefits', 'work_location', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:18,799 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:18,799 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:18,799 INFO sqlalchemy.engine.Engine [cached since 1026s ago] ('hr@talent.com',)
2025-12-09 11:31:18,803 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:18,803 INFO sqlalchemy.engine.Engine [cached since 1025s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=benefits, field_value=skip
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid', 'probation_period': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid', 'probation_period': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip', 'benefits': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid', 'probation_period': 'valid', 'benefits': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip', 'benefits': 'skip'}
2025-12-09 11:31:18,807 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:18,808 INFO sqlalchemy.engine.Engine [cached since 1025s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (533 characters truncated) ... ", "salary": "valid", "reporting_manager": "valid", "hr_contact": "valid", "middle_name": "valid", "probation_period": "valid", "benefits": "valid"}}', '2025-12-09 06:01:18.807408', 77)
2025-12-09 11:31:18,810 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'probation_period', 'benefits'], remaining: ['employee_id', 'work_location', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:19,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:19,414 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:19,415 INFO sqlalchemy.engine.Engine [cached since 1026s ago] ('hr@talent.com',)
2025-12-09 11:31:19,419 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:19,419 INFO sqlalchemy.engine.Engine [cached since 1026s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=work_location, field_value=skip
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip', 'benefits': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid', 'probation_period': 'valid', 'benefits': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip', 'benefits': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid', 'probation_period': 'valid', 'benefits': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip', 'benefits': 'skip', 'work_location': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid', 'probation_period': 'valid', 'benefits': 'valid', 'work_location': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip', 'benefits': 'skip', 'work_location': 'skip'}
2025-12-09 11:31:19,422 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:19,422 INFO sqlalchemy.engine.Engine [cached since 1026s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (584 characters truncated) ... orting_manager": "valid", "hr_contact": "valid", "middle_name": "valid", "probation_period": "valid", "benefits": "valid", "work_location": "valid"}}', '2025-12-09 06:01:19.422014', 77)
2025-12-09 11:31:19,423 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'probation_period', 'benefits', 'work_location'], remaining: ['employee_id', 'notice_period']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:19,957 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:19,958 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:19,958 INFO sqlalchemy.engine.Engine [cached since 1027s ago] ('hr@talent.com',)
2025-12-09 11:31:19,962 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:19,962 INFO sqlalchemy.engine.Engine [cached since 1026s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG process_manual_field: field_name=notice_period, field_value=skip
üîç DEBUG current context: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip', 'benefits': 'skip', 'work_location': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid', 'probation_period': 'valid', 'benefits': 'valid', 'work_location': 'valid'}}
üîç DEBUG validation result: is_valid=True, error=
üîç DEBUG ctx before update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip', 'benefits': 'skip', 'work_location': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid', 'probation_period': 'valid', 'benefits': 'valid', 'work_location': 'valid'}}
üîç DEBUG ctx after update: {'template_name': 'Offer Letter - Full Time', 'required_fields': ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact'], 'optional_fields': ['middle_name', 'employee_id', 'probation_period', 'benefits', 'work_location', 'notice_period'], 'manual_data': {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip', 'benefits': 'skip', 'work_location': 'skip', 'notice_period': 'skip'}, 'validation_status': {'candidate_name': 'valid', 'position': 'valid', 'department': 'valid', 'start_date': 'valid', 'salary': 'valid', 'reporting_manager': 'valid', 'hr_contact': 'valid', 'middle_name': 'valid', 'probation_period': 'valid', 'benefits': 'valid', 'work_location': 'valid', 'notice_period': 'valid'}}
üîç DEBUG manual_data now has: {'candidate_name': 'sarah', 'position': 'engineer', 'department': 'Information Technology', 'start_date': '2025-12-17', 'salary': '2423224', 'reporting_manager': 'amru', 'hr_contact': 'hr head', 'middle_name': 'skip', 'probation_period': 'skip', 'benefits': 'skip', 'work_location': 'skip', 'notice_period': 'skip'}
2025-12-09 11:31:19,965 INFO sqlalchemy.engine.Engine UPDATE document_conversations SET context=?, updated_at=? WHERE document_conversations.id = ?
2025-12-09 11:31:19,966 INFO sqlalchemy.engine.Engine [cached since 1026s ago] ('{"template_name": "Offer Letter - Full Time", "required_fields": ["candidate_name", "position", "department", "start_date", "salary", "reporting_mana ... (635 characters truncated) ... "hr_contact": "valid", "middle_name": "valid", "probation_period": "valid", "benefits": "valid", "work_location": "valid", "notice_period": "valid"}}', '2025-12-09 06:01:19.965824', 77)
2025-12-09 11:31:19,969 INFO sqlalchemy.engine.Engine COMMIT
üîç DEBUG After commit - context should be saved
üîç DEBUG filled_fields: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'probation_period', 'benefits', 'work_location', 'notice_period'], remaining: ['employee_id']
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/manual-field HTTP/1.1" 200 OK
2025-12-09 11:31:20,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:20,969 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.hashed_password, users.full_name, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2025-12-09 11:31:20,969 INFO sqlalchemy.engine.Engine [cached since 1028s ago] ('hr@talent.com',)
2025-12-09 11:31:20,974 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:20,974 INFO sqlalchemy.engine.Engine [cached since 1027s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
2025-12-09 11:31:20,978 INFO sqlalchemy.engine.Engine COMMIT
2025-12-09 11:31:20,982 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-09 11:31:20,982 INFO sqlalchemy.engine.Engine SELECT document_conversations.id, document_conversations.session_id, document_conversations.user_id, document_conversations.current_step, document_conversations.selected_template_id, document_conversations.input_method, document_conversations.context, document_conversations.created_at, document_conversations.updated_at, document_conversations.completed_at 
FROM document_conversations 
WHERE document_conversations.session_id = ?
2025-12-09 11:31:20,983 INFO sqlalchemy.engine.Engine [cached since 1027s ago] ('3cab2736-b219-468b-bf42-bbb46f13d72c',)
üîç DEBUG generate_preview: selected_template_id=1
2025-12-09 11:31:20,986 INFO sqlalchemy.engine.Engine SELECT document_templates.id, document_templates.name, document_templates.category, document_templates.file_path, document_templates.description, document_templates.required_fields, document_templates.optional_fields, document_templates.uses_company_logo, document_templates.uses_company_letterhead, document_templates.is_active, document_templates.created_at, document_templates.updated_at 
FROM document_templates 
WHERE document_templates.id = ?
2025-12-09 11:31:20,986 INFO sqlalchemy.engine.Engine [cached since 1027s ago] (1,)
üîç DEBUG generate_preview: template.name='Offer Letter - Full Time', lower='offer letter - full time'
üîç DEBUG template_filename='Offer_Letter.pdf'
üîç DEBUG template_path='/home/amramesh/wsl/Talent_Connect/main/backend/Corporate_HR_Letter_Templates_ZIP/Offer_Letter.pdf', exists=True
üîç DEBUG Using PDF-based preview
üîç _replace_placeholders called with data keys: ['candidate_name', 'position', 'department', 'start_date', 'salary', 'reporting_manager', 'hr_contact', 'middle_name', 'probation_period', 'benefits', 'work_location', 'notice_period']
üîç Processing field 'candidate_name' with value 'sarah'
üîç Processing field 'position' with value 'engineer'
üîç Processing field 'department' with value 'Information Technology'
üîç Processing field 'start_date' with value '2025-12-17'
üîç Processing field 'salary' with value '2423224'
üîç Replacing [CTC] with '2423224'
üîç Processing field 'reporting_manager' with value 'amru'
üîç Processing field 'hr_contact' with value 'hr head'
üîç Processing field 'middle_name' with value 'skip'
üîç Processing field 'probation_period' with value 'skip'
üîç Processing field 'benefits' with value 'skip'
üîç Processing field 'work_location' with value 'skip'
üîç Processing field 'notice_period' with value 'skip'
2025-12-09 11:31:20,992 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56244 - "POST /api/v1/documents/agent/preview HTTP/1.1" 200 OK
